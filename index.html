<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<!--    <script type="module" src="components/trans/index.js"></script>-->
    <script type="module" src="https://unpkg.com/@json_web_component/ji18n/dist/main.min.js"></script>
    <title>Title</title>
    <script type="module">
      const en = {
        "app": {
          "test": "test{test}"
        }
      }
      const zh = {
        "app": {
          "test": "测试{test}"
        }
      }
      const messages = {en, zh}
      createJi18n({messages})
    </script>
</head>
<body>
<j-trans label="app.test" class="demo"></j-trans>
<input type="radio" name="lan" value="en" checked><label>English</label>
<input type="radio" name="lan" value="zh"><label>中文</label>
<script>
  const radios = document.querySelectorAll('input[type="radio"][name="lan"]');
  test = document.querySelector('.demo');
  test.setAttribute("options", JSON.stringify({test: 123}));
  for (let radio of radios) {
    radio.addEventListener('change', e => {
      Ji18n.setLanguage(e.target.value)
      setTimeout(() => {
        console.log(Ji18n.$t("app.test"))
      }, 500)
    })
  }
</script>
</body>
</html>